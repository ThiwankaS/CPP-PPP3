{
  "servers" : [
    {
      "server_name"         : "example.com",      # Standard configuration
      "listen"              : ["8080", "8081"],   # Multi-port listening
      "host"                : "127.0.0.1",
      "root"                : "/var/www/html",
      "default_error_pages" : {
            "404"   : "/errors/404.html",
            "500"   : "/errors/500.html"
      },
      "client_max_body_size": 1048576,            # 1MB limit
      "routes"  : [
        {
            "path"          : "/",
            "methods"       : ["GET", "POST"],
            "autoindex"     : true,               # Directory listing ON
            "index"         : "index.html"
        },
        {
            "path"          : "/uploads",
            "methods"       : ["POST", "DELETE"],
            "upload_enable" : true,
            "upload_path"   : "/var/www/uploads"
        },
        {
            "path"          : "/old-page",
            "return"        : "http://localhost:8080/new-page" # 301 Redirect
        },
        {
            "path"          : ".php",
            "cgi_enable"    : true,
            "cgi_path"      : "/usr/bin/php-cgi"  # PHP CGI
        }
      ]
    },
    {
      "server_name"         : "test.local",       # Second dummy server
      "listen"              : ["9090"],           # Different port
      "host"                : "127.0.0.1",
      "root"                : "/var/www/site2",   # Different root
      "default_error_pages" : {
            "403"   : "/errors/403.html",          # Custom forbidden page
            "500"   : "/errors/500.html"
      },
      "client_max_body_size": 50,                 # Tiny limit to test payload rejection
      "routes"  : [
        {
            "path"          : "/",
            "methods"       : ["GET"],            # GET only
            "autoindex"     : false,              # Directory listing OFF (testing forbidden)
            "index"         : "home.html"
        },
        {
            "path"          : "/images",
            "root"          : "/data/media",      # Custom root for this route
            "methods"       : ["GET"]
        },
        {
            "path"          : "/kapouet",         # The subject mentions this specific route example
            "root"          : "/tmp/www",
            "methods"       : ["GET", "POST"]
        },
        {
            "path"          : "/google",
            "return"        : "https://google.com"# External redirect
        },
        {
            "path"          : ".py",              # Python CGI configuration
            "cgi_enable"    : true,
            "cgi_path"      : "/usr/bin/python3"
        }
      ]
    }
  ]
}
